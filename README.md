Горчаков Роман Владимирович. Вариант 2
# Лабораторная работа 4.2. Перегрузка операторов в языке Python

Перегрузка операторов — это один из способов реализации полиморфизма, когда мы можем задать свою реализацию какого-либо метода в своём классе. Например, у нас есть два класса:

> class A:
>> def go(self):
>>> print('Go, A!')

> class B(A):
>> def go(self, name):
>>> print('Go, {}!'.format(name))

В данном примере класс B наследует класс A, но переопределяет метод go, поэтому он имеет мало общего с аналогичным методом класса A.

Однако в Python имеются методы, которые, как правило, не вызываются напрямую, а вызываются встроенными функциями или операторами. Например, метод __init__ перегружает конструктор класса. Конструктор - это создание экземпляра класса.

> class A:
>> def __init__(self, name):
>>> self.name = name

> ...

> a = A('Vasya')

> print(a.name)

> _Vasya_

Собственно, далее пойдёт список таких "магических" методов.

1. __new__(cls[, ...]) — управляет созданием экземпляра. В качестве обязательного аргумента принимает класс (не путать с экземпляром). Должен возвращать экземпляр класса для его последующей его передачи методу __init__.
2. __init__(self[, ...]) - как уже было сказано выше, конструктор.
3. __del__(self) - вызывается при удалении объекта сборщиком мусора.
4. __repr__(self) - вызывается встроенной функцией repr; возвращает "сырые" данные, использующиеся для внутреннего представления в python.
5. __str__(self) - вызывается функциями str, print и format. Возвращает строковое представление объекта.
6. __bytes__(self) - вызывается функцией bytes при преобразовании к байтам.
7. __format__(self, format_spec) - используется функцией format (а также методом format у строк).
8. __lt__(self, other) - x < y вызывает x.__lt__(y) .
9. __le__(self, other) - x ≤ y вызывает x.__le__(y) .
10. __eq__(self, other) - x == y вызывает x.__eq__(y) .
11. __ne__(self, other) - x != y вызывает x.__ne__(y) .
12. __gt__(self, other) - x > y вызывает x.__gt__(y) .
13. __ge__(self, other) - x ≥ y вызывает x.__ge__(y) .
14. __hash__(self) - получение хэш-суммы объекта, например, для добавления в словарь.
15. __bool__(self) - вызывается при проверке истинности. Если этот метод не определён, вызывается метод __len__ (объекты, имеющие ненулевую длину, считаются истинными).
16. __getattr__(self, name) - вызывается, когда атрибут экземпляра класса не найден вm обычных местах (например, у экземпляра нет метода с таким названием).
17. __setattr__(self, name, value) - назначение атрибута.
18. __delattr__(self, name) - удаление атрибута ( del obj.name ).
19. __call__(self[, args...]) - вызов экземпляра класса как функции.
20. __len__(self) - длина объекта.
21. __getitem__(self, key) - доступ по индексу (или ключу).
22. __setitem__(self, key, value) - назначение элемента по индексу.
23. __delitem__(self, key) - удаление элемента по индексу.
24. __iter__(self) - возвращает итератор для контейнера.
25. __reversed__(self) - итератор из элементов, следующих в обратном порядке.
26. __contains__(self, item) - проверка на принадлежность элемента контейнеру (item in self).
    
Перегрузка арифметических операторов

1)	__add__(self, other) – сложение. x + y вызывает x.__add__(y) .
2)	__sub__(self, other) – вычитание (x – y).
3)	__mul__(self, other) – умножение (x * y).
4)	__truediv__(self, other) – деление (x / y).
5)	__floordiv__(self, other) – целочисленное деление (x // y).
6)	__mod__(self, other) – остаток от деления (x % y).
7)	__divmod__(self, other) – частное и остаток (divmod(x, y)).
8)	__pow__(self, other[, modulo]) – возведение в степень (x ** y , pow(x, y[, modulo])).
9)	__lshift__(self, other) – битовый сдвиг влево (x << y).
10)	__rshift__(self, other) – битовый сдвиг вправо (x >> y).
11)	__and__(self, other) – битовое И (x & y).
12)	__xor__(self, other) – битовое ИСКЛЮЧАЮЩЕЕ ИЛИ (x ^ y).
13)	__or__(self, other) – битовое ИЛИ (x | y).
14)	__radd__(self, other) ,
15)	__rsub__(self, other) ,
16)	__rmul__(self, other) ,
17)	__rtruediv__(self, other) ,
18)	__rfloordiv__(self, other) ,
19)	__rmod__(self, other) ,
20)	__rdivmod__(self, other) ,
21)	__rpow__(self, other) ,
22)	__rlshift__(self, other) ,
23)	__rrshift__(self, other) ,
24)	__rand__(self, other) ,
25)	__rxor__(self, other) ,
26)	__ror__(self, other) - делают то же самое, что и арифметические операторы, перечисленные выше, но для аргументов, находящихся справа, и только в случае, если для левого операнда не определён соответствующий метод.
27)	__iadd__(self, other) – += .
28)	__isub__(self, other) – -= .
29)	__imul__(self, other) – *= .
30)	__itruediv__(self, other) – /= .
31)	__ifloordiv__(self, other) – //= .
32)	__imod__(self, other) – %= .
33)	__ipow__(self, other[, modulo]) – **= .
34)	__ilshift__(self, other) – <<= .
35)	__irshift__(self, other) – >>= .
36)	__iand__(self, other) – &= .
37)	__ixor__(self, other) – ^= .
38)	__ior__(self, other) – |= .
39)	__neg__(self) – унарный -.
40)	__pos__(self) – унарный +.
41)	__abs__(self) – модуль (abs()).
42)	__invert__(self) – инверсия (~).
43)	__complex__(self) – приведение к complex.
44)	__int__(self) – приведение к int.
45)	__float__(self) – приведение к float.
46)	__round__(self[, n]) – округление.
47)	__enter__(self) , __exit__(self, exc_type, exc_value, traceback) – реализации менеджеров контекста, используемый оператором with.
